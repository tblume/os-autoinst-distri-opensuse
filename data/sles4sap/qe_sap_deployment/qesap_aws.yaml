provider: "%PROVIDER%"
apiver: 2
terraform:
  variables:
    aws_region: "%REGION%"
    deployment_name: "%DEPLOYMENTNAME%"
    os_image: "%QESAP_CLUSTER_OS_VER%"
    os_owner: "amazon"
    private_key: "%SSH_KEY_PRIV%"
    public_key: "%SSH_KEY_PUB%"
    aws_credentials: "/root/amazon_credentials"
    hana_cluster_fencing_mechanism: "sbd"
    hana_ha_enabled: "true"

ansible:
  hana_urls:
    - "%HANA_SAR%"
    - "%HANA_CLIENT_SAR%"
    - "%HANA_SAPCAR%"
  create:
    - registration.yaml -e reg_code=${REG_CODE} -e email_address=${EMAIL}
    - pre-cluster.yaml
    - sap-hana-preconfigure.yaml
    - cluster_sbd_prep.yaml
    - sap-hana-storage.yaml
    - sap-hana-download-media.yaml
    - sap-hana-install.yaml
    - sap-hana-system-replication.yaml
    - sap-hana-system-replication-hooks.yaml
    - sap-hana-cluster.yaml
  destroy:
    - deregister.yaml
  variables:
    REG_CODE: "%SCC_REGCODE_SLES4SAP%"
    EMAIL: testing@suse.com
